# Project Structure

## Directory Organization

```
├── app/                    # Next.js App Router pages
│   ├── layout.tsx         # Root layout with providers
│   ├── page.tsx           # Homepage
│   ├── blog/              # Blog listing and post pages
│   ├── tags/              # Tag pages
│   ├── about/             # About/author pages
│   ├── projects/          # Projects showcase
│   └── api/               # API routes (newsletter, etc.)
│
├── components/            # Reusable React components
│   ├── Header.tsx
│   ├── Footer.tsx
│   ├── MDXComponents.tsx  # Custom MDX component mappings
│   ├── Link.tsx           # Custom Next.js Link wrapper
│   ├── Image.tsx          # Custom Next.js Image wrapper
│   └── social-icons/      # Social media icon components
│
├── layouts/               # Blog post layout templates
│   ├── PostLayout.tsx     # Default 2-column layout
│   ├── PostSimple.tsx     # Simplified layout
│   ├── PostBanner.tsx     # Layout with banner image
│   └── ListLayout*.tsx    # Blog listing layouts
│
├── data/                  # Content and configuration
│   ├── blog/              # Blog posts (MDX files)
│   ├── authors/           # Author profiles (MDX files)
│   ├── siteMetadata.js    # Site configuration
│   ├── headerNavLinks.ts  # Navigation links
│   ├── projectsData.ts    # Projects data
│   └── references-data.bib # Bibliography file
│
├── lib/                   # Utility functions
│   ├── blog.ts            # Blog post filtering utilities
│   └── authors.ts         # Author data utilities
│
├── css/                   # Stylesheets
│   ├── tailwind.css       # Main Tailwind imports
│   └── prism.css          # Code syntax highlighting theme
│
├── public/                # Static assets
│   └── static/
│       ├── images/        # Images and media
│       └── favicons/      # Favicon files
│
├── scripts/               # Build scripts
│   ├── postbuild.mjs      # Post-build processing
│   └── rss.mjs            # RSS feed generation
│
├── .contentlayer/         # Generated by Contentlayer (gitignored)
├── .next/                 # Next.js build output (gitignored)
└── .kiro/                 # Kiro AI configuration
```

## Key Files

### Configuration
- `next.config.js` - Next.js configuration, security headers, CSP
- `contentlayer.config.ts` - Content schema, MDX plugins, build hooks
- `tsconfig.json` - TypeScript config with path aliases
- `eslint.config.mjs` - ESLint flat config
- `prettier.config.js` - Code formatting rules
- `postcss.config.js` - PostCSS with Tailwind plugin

### Entry Points
- `app/layout.tsx` - Root layout with theme, analytics, search providers
- `app/page.tsx` - Homepage
- `components/MDXComponents.tsx` - MDX component registry

## Path Aliases

TypeScript path aliases configured in `tsconfig.json`:

```typescript
@/components/*  → components/*
@/data/*        → data/*
@/layouts/*     → layouts/*
@/css/*         → css/*
@/lib/*         → lib/*
```

Always use these aliases for imports instead of relative paths.

## Content Schema

### Blog Posts (`data/blog/**/*.mdx`)

Required frontmatter:
- `title` - Post title
- `date` - Publication date (YYYY-MM-DD)

Optional frontmatter:
- `tags` - Array of tags
- `draft` - Hide from production (boolean)
- `archive` - Mark as archived content (boolean)
- `category` - Mark as category index (boolean)
- `summary` - Post excerpt
- `images` - Array of image URLs
- `authors` - Array of author slugs (defaults to 'default')
- `layout` - Layout component name
- `canonicalUrl` - Canonical URL for SEO
- `bibliography` - Path to .bib file

### Authors (`data/authors/**/*.mdx`)

Required frontmatter:
- `name` - Author name

Optional frontmatter:
- `avatar` - Profile image path
- `occupation` - Job title
- `company` - Company name
- `email` - Email address
- `twitter`, `linkedin`, `github`, `bluesky` - Social links

## Component Conventions

### React Components
- Use TypeScript with explicit prop types
- Functional components with hooks
- Default exports for page components
- Named exports for utility components

### Styling
- Tailwind utility classes (no custom CSS unless necessary)
- Dark mode variants: `dark:` prefix
- Responsive: `sm:`, `md:`, `lg:`, `xl:` prefixes
- Use `className` prop, not `class`

### MDX Components
- Register custom components in `components/MDXComponents.tsx`
- Must be default exported to work with Next.js
- Can use JSX directly in `.mdx` files

## Build Process

1. **Contentlayer** processes MDX files → generates typed content
2. **Tag counting** creates `app/tag-data.json`
3. **Search index** generates `public/search.json` (if kbar enabled)
4. **Next.js build** compiles app
5. **Post-build script** generates RSS feed

## Naming Conventions

- **Files**: kebab-case for regular files, PascalCase for components
- **Components**: PascalCase (e.g., `PostLayout.tsx`)
- **Utilities**: camelCase (e.g., `filterPosts`)
- **Types**: PascalCase (e.g., `LayoutProps`)
- **Constants**: UPPER_SNAKE_CASE or camelCase

## Special Directories

- `.contentlayer/` - Auto-generated, don't edit manually
- `.next/` - Build output, don't commit
- `node_modules/` - Dependencies, don't commit
- `.yarn/cache/` - Yarn cache, committed for PnP
